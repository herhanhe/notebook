# 尝尝鲜：从一个Hello到另一个Hello
## 01 程序的运行过程：从代码到机器运行
* **扎实的基本功就像手里的指南针，你可以一步步强大到不依赖它，但是不能没有**
  
### **一切要从牛人做的牛逼事说起**
* 第一位牛人，是世界级计算机大佬的传奇——Unix 之父 Ken Thompson
  * 在上世纪 60 年代的一个夏天，Ken Thompson 的妻子要回娘家一个月。呆在贝尔实验室的他，竟然利用这极为孤独的一个月，开发出了 UNiplexed Information and Computing System（UNICS）——即 UNIX 的雏形，一个全新的操作系统。
* 牛人的朋友也是牛人，他的朋友 Dennis Ritchie 也随之加入其中，共同创造了大名鼎鼎的 C 语言，并用 C 语言写出了 UNIX 和后来的类 UNIX 体系的几十种操作系统，也写出了对后世影响深远的第一版“Hello World”：

```c   
    #include "stdio.h"
    int main(int argc, char const *argv[])
    {
        printf("Hello World!\n");
        return 0;
    }
```

### **程序编译过程**
* GCC 相关的编译工具链
  * GCC 只是完成编译工作的驱动程序，它会根据编译流程分别调用预处理程序、编译程序、汇编程序、链接程序来完成具体工作。
  ![1-1](https://heh-1300576495.cos.ap-chengdu.myqcloud.com/assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/1-1.png)
  * 预处理：加入头文件，替换宏；`gcc -E HelloWorld.c -o  HelloWorld.i`
  * 编译：将预处理文件转换成汇编程序；`gcc -S HelloWorld.i -o HelloWorld.s`
  * 汇编：将汇编程序转换成可链接的二进制程序；`gcc -c HelloWorld.s -o HelloWorld.o`
  * 链接：将可链接的二进制程序和其它别的库链接在一起，形成可执行的程序文件。`gcc HelloWorld.o -o HelloWorld`

### **程序装载执行**
* 第三位牛人——大名鼎鼎的阿兰·图灵。在他的众多贡献中，很重要的一个就是提出了一种理想中的机器：图灵机。
  * 图灵机是一个抽象的模型，它是这样的：有一条无限长的纸带，纸带上有无限个小格子，小格子中写有相关的信息，纸带上有一个读头，读头能根据纸带小格子里的信息做相关的操作并能来回移动。
  ![1-2](https://heh-1300576495.cos.ap-chengdu.myqcloud.com/assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/1-2.png)
* 于是，第四位牛人来了，他提出了电子计算机使用二进制数制系统和储存程序，并按照程序顺序执行，他叫冯诺依曼，他的电子计算机理论叫冯诺依曼体系结构。
  * 根据冯诺依曼体系结构构成的计算机，必须具有如下功能：
    * 把程序和数据装入到计算机中；
    * 必须具有长期记住程序、数据的中间结果及最终运算结果；
    * 完成各种算术、逻辑运算和数据传送等数据加工处理；
    * 根据需要控制程序走向，并能根据指令控制机器的各部件协调操作；
    * 能够按照要求将处理的数据结果显示给用户。
  * 为了完成上述的功能，计算机必须具备五大基本组成部件：
    * 装载数据和程序的输入设备；
    * 记住程序和数据的存储器；
    * 完成数据加工处理的运算器；
    * 控制程序执行的控制器；
    * 显示处理结果的输出设备。
  * 根据冯诺依曼的理论，我们只要把图灵机的几个部件换成电子设备，就可以变成一个最小核心的电子计算机:
  ![1-4](https://heh-1300576495.cos.ap-chengdu.myqcloud.com/assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/1-4.png)
   * 地址总线寻找对应的“纸带格子”
   * 读取写入数据由数据总线完成
   * 而动作的控制就是控制总线的职责了。

### **更形象地将 HelloWorld 程序装入原型计算机**